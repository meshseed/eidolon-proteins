id: 915bea31-9169-48b0-b724-54a3d50c5a10
title: CSS Media Query Height Calculation for .main-body within .app-layout
summary: >-
  The dialogue analyzes a CSS conflict where `.main-body`'s height calculation within a media query
  is affected by its parent `.app-layout` also being defined globally and within the media query.
  The core issue is correctly interpreting `height: 100%` and `calc()` on a flex item when its
  display property is potentially overridden.
insights:
  - >-
    Overriding global CSS with media query-specific definitions is a standard practice for
    responsive design.
  - >-
    The presence of `.app-layout` defined both globally and within a media query, with the latter
    setting `height: 100dvh`, establishes the parent container's height for subsequent calculations.
  - >-
    `.main-body`'s `height: calc(100% - var(--bottom-nav-height))` relies on the parent's height,
    meaning its calculated height will be relative to the `100dvh` of `.app-layout` minus the header
    height.
  - >-
    A `display: block` override on a flex item does not prevent flex properties like `flex: 1` from
    applying, though it affects how the item is rendered within the flex container.
  - >-
    The interpretation of `height: 100%` for a flex item usually refers to 100% of the available
    space in the flex container after other items are accounted for.
tags:
  - '#css'
  - '#responsive-design'
  - '#media-queries'
  - '#flexbox'
  - '#layout'
  - '#public'
  - '#embed:gemini-004'
  - '#embed:nomic-v1.5'
  - '#dna:Model_Selection___UI_Polish_md'
  - '#synthesis:v4.5'
tier: reference
coherence_score: 0.92
created_at: '2026-01-25T02:53:52.945Z'
source: synthesis
emotional_gradient: curiosity → insight → understanding
